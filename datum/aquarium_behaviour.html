<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/aquarium_behaviour - San Francisco</title></head><body><header><a href="index.html">San Francisco</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/aquarium_behaviour.html#var">Var Details</a> - <a href="datum/aquarium_behaviour.html#proc">Proc Details</a></header><main><h1>aquarium_behaviour <aside>/<a href="datum.html">datum</a>/<a href="datum/aquarium_behaviour.html">aquarium_behaviour</a></aside> <a href="https://github.com/xxxnoscopexx/World-of-Darkness-13/blob/1ecd171f2dfdeed206c3ad349ee9361f155bb72e/code/modules/aquarium/aquarium_behaviour.dm#L3"><img src="git.png" width="16" height="16" title="code/modules/aquarium/aquarium_behaviour.dm 3"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/aquarium_behaviour.html#var/aquarium_vc_color">aquarium_vc_color</a></th><td>Applied to vc object only for use with greyscaled icons.</td></tr><tr><th><a href="datum/aquarium_behaviour.html#var/color">color</a></th><td>Applied and item/catalog for use with greyscaled icons.</td></tr><tr><th><a href="datum/aquarium_behaviour.html#var/current_animation">current_animation</a></th><td>Current animation</td></tr><tr><th><a href="datum/aquarium_behaviour.html#var/dedicated_in_aquarium_icon_state">dedicated_in_aquarium_icon_state</a></th><td>Fish sprite how to:
Need to be centered on 16,16 in the dmi and facing left by default.
sprite_height/sprite_width is the size it will have in aquarium and used to control animation boundaries.
source_height/source_width is the size of the original icon (ideally only the non-empty parts)
If this is set this icon state will be used for the holder while icon_state will only be used for item/catalog. Transformation from source_width/height WON'T be applied.</td></tr><tr><th><a href="datum/aquarium_behaviour.html#var/icon_state">icon_state</a></th><td>Icon state used for catalog/autogenerated fish item. Also used as basis for in aquarium visual if dedicated_in_aquarium_icon_state is not set.</td></tr><tr><th><a href="datum/aquarium_behaviour.html#var/layer_mode">layer_mode</a></th><td>How the thing will be layered</td></tr><tr><th><a href="datum/aquarium_behaviour.html#var/parent">parent</a></th><td>Our holder component</td></tr><tr><th><a href="datum/aquarium_behaviour.html#var/processing">processing</a></th><td>Does this behviour need additional processing in aquarium, will be added to SSobj processing on insertion</td></tr><tr><th><a href="datum/aquarium_behaviour.html#var/randomize_position">randomize_position</a></th><td>If the starting position is randomised within bounds.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/aquarium_behaviour.html#proc/apply_appearance">apply_appearance</a></th><td>Applies icon,color and base scaling to our visual holder</td></tr><tr><th><a href="datum/aquarium_behaviour.html#proc/before_removal">before_removal</a></th><td>Called just before the object gets removed from the aquarium</td></tr><tr><th><a href="datum/aquarium_behaviour.html#proc/on_feeding">on_feeding</a></th><td>Called when fed.</td></tr><tr><th><a href="datum/aquarium_behaviour.html#proc/on_fluid_changed">on_fluid_changed</a></th><td>Called when aquarium fluid changes.</td></tr><tr><th><a href="datum/aquarium_behaviour.html#proc/on_inserted">on_inserted</a></th><td>Called when inserted into new aquarium</td></tr><tr><th><a href="datum/aquarium_behaviour.html#proc/update_animation">update_animation</a></th><td>Called to update current animation based on state</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/aquarium_vc_color"><aside class="declaration">var </aside>aquarium_vc_color <aside>– </aside> <a href="https://github.com/xxxnoscopexx/World-of-Darkness-13/blob/1ecd171f2dfdeed206c3ad349ee9361f155bb72e/code/modules/aquarium/aquarium_behaviour.dm#L30"><img src="git.png" width="16" height="16" title="code/modules/aquarium/aquarium_behaviour.dm 30"></a></h3><p>Applied to vc object only for use with greyscaled icons.</p><h3 id="var/color"><aside class="declaration">var </aside>color <aside>– </aside> <a href="https://github.com/xxxnoscopexx/World-of-Darkness-13/blob/1ecd171f2dfdeed206c3ad349ee9361f155bb72e/code/modules/aquarium/aquarium_behaviour.dm#L13"><img src="git.png" width="16" height="16" title="code/modules/aquarium/aquarium_behaviour.dm 13"></a></h3><p>Applied and item/catalog for use with greyscaled icons.</p><h3 id="var/current_animation"><aside class="declaration">var </aside>current_animation <aside>– </aside> <a href="https://github.com/xxxnoscopexx/World-of-Darkness-13/blob/1ecd171f2dfdeed206c3ad349ee9361f155bb72e/code/modules/aquarium/aquarium_behaviour.dm#L40"><img src="git.png" width="16" height="16" title="code/modules/aquarium/aquarium_behaviour.dm 40"></a></h3><p>Current animation</p><h3 id="var/dedicated_in_aquarium_icon_state"><aside class="declaration">var </aside>dedicated_in_aquarium_icon_state <aside>– </aside> <a href="https://github.com/xxxnoscopexx/World-of-Darkness-13/blob/1ecd171f2dfdeed206c3ad349ee9361f155bb72e/code/modules/aquarium/aquarium_behaviour.dm#L28"><img src="git.png" width="16" height="16" title="code/modules/aquarium/aquarium_behaviour.dm 28"></a></h3><p>Fish sprite how to:
Need to be centered on 16,16 in the dmi and facing left by default.
sprite_height/sprite_width is the size it will have in aquarium and used to control animation boundaries.
source_height/source_width is the size of the original icon (ideally only the non-empty parts)
If this is set this icon state will be used for the holder while icon_state will only be used for item/catalog. Transformation from source_width/height WON'T be applied.</p><h3 id="var/icon_state"><aside class="declaration">var </aside>icon_state <aside>– </aside> <a href="https://github.com/xxxnoscopexx/World-of-Darkness-13/blob/1ecd171f2dfdeed206c3ad349ee9361f155bb72e/code/modules/aquarium/aquarium_behaviour.dm#L11"><img src="git.png" width="16" height="16" title="code/modules/aquarium/aquarium_behaviour.dm 11"></a></h3><p>Icon state used for catalog/autogenerated fish item. Also used as basis for in aquarium visual if dedicated_in_aquarium_icon_state is not set.</p><h3 id="var/layer_mode"><aside class="declaration">var </aside>layer_mode <aside>– </aside> <a href="https://github.com/xxxnoscopexx/World-of-Darkness-13/blob/1ecd171f2dfdeed206c3ad349ee9361f155bb72e/code/modules/aquarium/aquarium_behaviour.dm#L16"><img src="git.png" width="16" height="16" title="code/modules/aquarium/aquarium_behaviour.dm 16"></a></h3><p>How the thing will be layered</p><h3 id="var/parent"><aside class="declaration">var </aside>parent <aside>– /<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/aquarium_content.html">aquarium_content</a></aside> <a href="https://github.com/xxxnoscopexx/World-of-Darkness-13/blob/1ecd171f2dfdeed206c3ad349ee9361f155bb72e/code/modules/aquarium/aquarium_behaviour.dm#L48"><img src="git.png" width="16" height="16" title="code/modules/aquarium/aquarium_behaviour.dm 48"></a></h3><p>Our holder component</p><h3 id="var/processing"><aside class="declaration">var </aside>processing <aside>– </aside> <a href="https://github.com/xxxnoscopexx/World-of-Darkness-13/blob/1ecd171f2dfdeed206c3ad349ee9361f155bb72e/code/modules/aquarium/aquarium_behaviour.dm#L43"><img src="git.png" width="16" height="16" title="code/modules/aquarium/aquarium_behaviour.dm 43"></a></h3><p>Does this behviour need additional processing in aquarium, will be added to SSobj processing on insertion</p><h3 id="var/randomize_position"><aside class="declaration">var </aside>randomize_position <aside>– </aside> <a href="https://github.com/xxxnoscopexx/World-of-Darkness-13/blob/1ecd171f2dfdeed206c3ad349ee9361f155bb72e/code/modules/aquarium/aquarium_behaviour.dm#L18"><img src="git.png" width="16" height="16" title="code/modules/aquarium/aquarium_behaviour.dm 18"></a></h3><p>If the starting position is randomised within bounds.</p><h2 id="proc">Proc Details</h2><h3 id="proc/apply_appearance"><aside class="declaration">proc </aside>apply_appearance<aside>(/<a href="obj.html">obj</a>/effect/holder)  <a href="https://github.com/xxxnoscopexx/World-of-Darkness-13/blob/1ecd171f2dfdeed206c3ad349ee9361f155bb72e/code/modules/aquarium/aquarium_behaviour.dm#L49"><img src="git.png" width="16" height="16" title="code/modules/aquarium/aquarium_behaviour.dm 49"></a></aside></h3><p>Applies icon,color and base scaling to our visual holder</p><h3 id="proc/before_removal"><aside class="declaration">proc </aside>before_removal<aside>()  <a href="https://github.com/xxxnoscopexx/World-of-Darkness-13/blob/1ecd171f2dfdeed206c3ad349ee9361f155bb72e/code/modules/aquarium/aquarium_behaviour.dm#L86"><img src="git.png" width="16" height="16" title="code/modules/aquarium/aquarium_behaviour.dm 86"></a></aside></h3><p>Called just before the object gets removed from the aquarium</p><h3 id="proc/on_feeding"><aside class="declaration">proc </aside>on_feeding<aside>(/<a href="datum.html">datum</a>/<a href="datum/reagents.html">reagents</a>/feed_reagents)  <a href="https://github.com/xxxnoscopexx/World-of-Darkness-13/blob/1ecd171f2dfdeed206c3ad349ee9361f155bb72e/code/modules/aquarium/aquarium_behaviour.dm#L69"><img src="git.png" width="16" height="16" title="code/modules/aquarium/aquarium_behaviour.dm 69"></a></aside></h3><p>Called when fed.</p><h3 id="proc/on_fluid_changed"><aside class="declaration">proc </aside>on_fluid_changed<aside>()  <a href="https://github.com/xxxnoscopexx/World-of-Darkness-13/blob/1ecd171f2dfdeed206c3ad349ee9361f155bb72e/code/modules/aquarium/aquarium_behaviour.dm#L73"><img src="git.png" width="16" height="16" title="code/modules/aquarium/aquarium_behaviour.dm 73"></a></aside></h3><p>Called when aquarium fluid changes.</p><h3 id="proc/on_inserted"><aside class="declaration">proc </aside>on_inserted<aside>()  <a href="https://github.com/xxxnoscopexx/World-of-Darkness-13/blob/1ecd171f2dfdeed206c3ad349ee9361f155bb72e/code/modules/aquarium/aquarium_behaviour.dm#L81"><img src="git.png" width="16" height="16" title="code/modules/aquarium/aquarium_behaviour.dm 81"></a></aside></h3><p>Called when inserted into new aquarium</p><h3 id="proc/update_animation"><aside class="declaration">proc </aside>update_animation<aside>()  <a href="https://github.com/xxxnoscopexx/World-of-Darkness-13/blob/1ecd171f2dfdeed206c3ad349ee9361f155bb72e/code/modules/aquarium/aquarium_behaviour.dm#L77"><img src="git.png" width="16" height="16" title="code/modules/aquarium/aquarium_behaviour.dm 77"></a></aside></h3><p>Called to update current animation based on state</p></main><footer>tgstation.dme <a href="https://github.com/xxxnoscopexx/World-of-Darkness-13/tree/1ecd171f2dfdeed206c3ad349ee9361f155bb72e">1ecd171</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.9.0</a></footer></body></html>